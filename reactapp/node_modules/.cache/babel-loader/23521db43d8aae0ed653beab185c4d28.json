{"ast":null,"code":"var _jsxFileName = \"/Users/santiagotonoli/Desktop/la capsule - bootcamp/project/morningnews/part5/reactapp/src/ScreenHome.js\";\nimport React, { useState } from 'react';\nimport './App.css';\nimport { Input, Button } from 'antd';\nimport { Link, Redirect } from 'react-router-dom';\nimport { connect } from 'react-redux';\n\nfunction ScreenHome(props) {\n  const [signUpUsername, setSignUpUsername] = useState('');\n  const [signUpEmail, setSignUpEmail] = useState('');\n  const [signUpPassword, setSignUpPassword] = useState('');\n  const [signInEmail, setSignInEmail] = useState('');\n  const [signInPassword, setSignInPassword] = useState('');\n  const [userExists, setUserExists] = useState(false);\n  const [listErrorsSignin, setErrorsSignin] = useState([]);\n  const [listErrorsSignup, setErrorsSignup] = useState([]);\n\n  var handleSubmitSignup = async () => {\n    const data = await fetch('/sign-up', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/x-www-form-urlencoded'\n      },\n      body: `usernameFromFront=${signUpUsername}&emailFromFront=${signUpEmail}&passwordFromFront=${signUpPassword}`\n    });\n    const body = await data.json();\n\n    if (body.result == true) {\n      props.addToken(body.token);\n      setUserExists(true);\n    } else {\n      setErrorsSignup(body.error);\n    }\n  };\n\n  var handleSubmitSignin = async () => {\n    const data = await fetch('/sign-in', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/x-www-form-urlencoded'\n      },\n      body: `emailFromFront=${signInEmail}&passwordFromFront=${signInPassword}`\n    });\n    const body = await data.json();\n\n    if (body.result == true) {\n      props.addToken(body.token);\n      setUserExists(true);\n      const dataWishlist = await fetch('/get-data', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/x-www-form-urlencoded'\n        },\n        body: `token=${body.token}`\n      });\n      const bodyWishlist = await dataWishlist.json(); // props.dataWishlist(bodyWishlist.wishlist)\n\n      console.log(bodyWishlist);\n      props.a;\n    } else {\n      setErrorsSignin(body.error);\n    }\n  };\n\n  if (userExists) {\n    return React.createElement(Redirect, {\n      to: \"/screensource\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69\n      },\n      __self: this\n    });\n  }\n\n  var tabErrorsSignin = listErrorsSignin.map((error, i) => {\n    return React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73\n      },\n      __self: this\n    }, error);\n  });\n  var tabErrorsSignup = listErrorsSignup.map((error, i) => {\n    return React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77\n      },\n      __self: this\n    }, error);\n  });\n  return React.createElement(\"div\", {\n    className: \"Login-page\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"Sign\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87\n    },\n    __self: this\n  }, React.createElement(Input, {\n    onChange: e => setSignInEmail(e.target.value),\n    className: \"Login-input\",\n    placeholder: \"email\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89\n    },\n    __self: this\n  }), React.createElement(Input.Password, {\n    onChange: e => setSignInPassword(e.target.value),\n    className: \"Login-input\",\n    placeholder: \"password\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91\n    },\n    __self: this\n  }), tabErrorsSignin, React.createElement(Button, {\n    onClick: () => handleSubmitSignin(),\n    style: {\n      width: '80px'\n    },\n    type: \"primary\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95\n    },\n    __self: this\n  }, \"Sign-in\")), React.createElement(\"div\", {\n    className: \"Sign\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101\n    },\n    __self: this\n  }, React.createElement(Input, {\n    onChange: e => setSignUpUsername(e.target.value),\n    className: \"Login-input\",\n    placeholder: \"username\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103\n    },\n    __self: this\n  }), React.createElement(Input, {\n    onChange: e => setSignUpEmail(e.target.value),\n    className: \"Login-input\",\n    placeholder: \"email\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105\n    },\n    __self: this\n  }), React.createElement(Input.Password, {\n    onChange: e => setSignUpPassword(e.target.value),\n    className: \"Login-input\",\n    placeholder: \"password\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107\n    },\n    __self: this\n  }), tabErrorsSignup, React.createElement(Button, {\n    onClick: () => handleSubmitSignup(),\n    style: {\n      width: '80px'\n    },\n    type: \"primary\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111\n    },\n    __self: this\n  }, \"Sign-up\")));\n}\n\nfunction mapDispatchToProps(dispatch) {\n  return {\n    addToken: function (token) {\n      dispatch({\n        type: 'addToken',\n        token: token\n      });\n    },\n    addToWishList: function (article) {\n      dispatch({\n        type: 'addArticle',\n        articleLiked: article\n      });\n    }\n  };\n}\n\nfunction mapStateToProps(state) {\n  return {\n    token: state.token\n  };\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ScreenHome);","map":{"version":3,"sources":["/Users/santiagotonoli/Desktop/la capsule - bootcamp/project/morningnews/part5/reactapp/src/ScreenHome.js"],"names":["React","useState","Input","Button","Link","Redirect","connect","ScreenHome","props","signUpUsername","setSignUpUsername","signUpEmail","setSignUpEmail","signUpPassword","setSignUpPassword","signInEmail","setSignInEmail","signInPassword","setSignInPassword","userExists","setUserExists","listErrorsSignin","setErrorsSignin","listErrorsSignup","setErrorsSignup","handleSubmitSignup","data","fetch","method","headers","body","json","result","addToken","token","error","handleSubmitSignin","dataWishlist","bodyWishlist","console","log","a","tabErrorsSignin","map","i","tabErrorsSignup","e","target","value","width","mapDispatchToProps","dispatch","type","addToWishList","article","articleLiked","mapStateToProps","state"],"mappings":"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","sourcesContent":["import React, {useState} from 'react';\nimport './App.css';\nimport {Input,Button} from 'antd';\nimport {Link, Redirect} from 'react-router-dom'\nimport {connect} from 'react-redux'\n\nfunction ScreenHome(props) {\n\n  const [signUpUsername, setSignUpUsername] = useState('')\n  const [signUpEmail, setSignUpEmail] = useState('')\n  const [signUpPassword, setSignUpPassword] = useState('')\n\n  const [signInEmail, setSignInEmail] = useState('')\n  const [signInPassword, setSignInPassword] = useState('')\n\n  const [userExists, setUserExists] = useState(false)\n\n  const [listErrorsSignin, setErrorsSignin] = useState([])\n  const [listErrorsSignup, setErrorsSignup] = useState([])\n\n  var handleSubmitSignup = async () => {\n    \n    const data = await fetch('/sign-up', {\n      method: 'POST',\n      headers: {'Content-Type': 'application/x-www-form-urlencoded'},\n      body: `usernameFromFront=${signUpUsername}&emailFromFront=${signUpEmail}&passwordFromFront=${signUpPassword}`\n    })\n\n    const body = await data.json()\n\n    if(body.result == true){\n      props.addToken(body.token)\n      setUserExists(true)\n      \n    } else {\n      setErrorsSignup(body.error)\n    }\n  }\n\n  var handleSubmitSignin = async () => {\n \n    const data = await fetch('/sign-in', {\n      method: 'POST',\n      headers: {'Content-Type': 'application/x-www-form-urlencoded'},\n      body: `emailFromFront=${signInEmail}&passwordFromFront=${signInPassword}`\n    })\n\n    const body = await data.json()\n\n    if(body.result == true){\n      props.addToken(body.token)\n      setUserExists(true)\n      const dataWishlist = await fetch('/get-data', {\n        method: 'POST',\n        headers: {'Content-Type': 'application/x-www-form-urlencoded'},\n        body: `token=${body.token}`\n      })\n      const bodyWishlist = await dataWishlist.json()\n      // props.dataWishlist(bodyWishlist.wishlist)\n      console.log(bodyWishlist)\n      props.a\n      \n    }  else {\n      setErrorsSignin(body.error)\n    }\n  }\n\n  if(userExists){\n    return <Redirect to='/screensource' />\n  }\n\n  var tabErrorsSignin = listErrorsSignin.map((error,i) => {\n    return(<p>{error}</p>)\n  })\n\n  var tabErrorsSignup = listErrorsSignup.map((error,i) => {\n    return(<p>{error}</p>)\n  })\n\n  \n\n  return (\n    <div className=\"Login-page\" >\n\n          {/* SIGN-IN */}\n\n          <div className=\"Sign\">\n                  \n            <Input onChange={(e) => setSignInEmail(e.target.value)} className=\"Login-input\" placeholder=\"email\" />\n\n            <Input.Password onChange={(e) => setSignInPassword(e.target.value)} className=\"Login-input\" placeholder=\"password\" />\n            \n            {tabErrorsSignin}\n\n            <Button onClick={() => handleSubmitSignin()}  style={{width:'80px'}} type=\"primary\">Sign-in</Button>\n\n          </div>\n\n          {/* SIGN-UP */}\n\n          <div className=\"Sign\">\n                  \n            <Input onChange={(e) => setSignUpUsername(e.target.value)} className=\"Login-input\" placeholder=\"username\" />\n\n            <Input onChange={(e) => setSignUpEmail(e.target.value)} className=\"Login-input\" placeholder=\"email\" />\n\n            <Input.Password onChange={(e) => setSignUpPassword(e.target.value)} className=\"Login-input\" placeholder=\"password\" />\n      \n            {tabErrorsSignup}\n\n            <Button onClick={() => handleSubmitSignup()} style={{width:'80px'}} type=\"primary\">Sign-up</Button>\n\n          </div>\n\n      </div>\n  );\n}\n\nfunction mapDispatchToProps(dispatch){\n  return {\n    addToken: function(token){\n      dispatch({type: 'addToken', token: token})\n    },\n    addToWishList: function(article){\n      dispatch({type: 'addArticle',\n        articleLiked: article\n      })\n    }\n  }\n}\n\nfunction mapStateToProps(state){\n  return {token: state.token}\n}\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(ScreenHome)\n"]},"metadata":{},"sourceType":"module"}